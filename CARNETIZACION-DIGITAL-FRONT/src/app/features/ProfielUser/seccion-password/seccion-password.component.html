<div class="password-container">
  <div class="form-card">
    <h2>Cambiar Contraseña</h2>
    <p class="form-description">Por tu seguridad, asegúrate de usar una contraseña fuerte</p>

    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
      <!-- Contraseña Actual -->
      <div class="form-group">
        <label for="contrasenaActual">Contraseña Actual</label>
        <div class="input-container">
          <input 
            id="contrasenaActual" 
            [type]="showCurrentPassword ? 'text' : 'password'" 
            formControlName="contrasenaActual"
            [class.error]="passwordForm.get('contrasenaActual')?.invalid && passwordForm.get('contrasenaActual')?.touched"
            placeholder="Ingresa tu contraseña actual"
          />
          <button 
            type="button" 
            class="toggle-password"
            (click)="togglePasswordVisibility('current')"
          >
            <mat-icon>{{ showCurrentPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </div>
        <div class="error-message" *ngIf="getFieldError('contrasenaActual')">
          {{ getFieldError('contrasenaActual') }}
        </div>
      </div>

      <!-- Nueva Contraseña -->
      <div class="form-group">
        <label for="nuevaContrasena">Nueva Contraseña</label>
        <div class="input-container">
          <input 
            id="nuevaContrasena" 
            [type]="showNewPassword ? 'text' : 'password'" 
            formControlName="nuevaContrasena"
            [class.error]="passwordForm.get('nuevaContrasena')?.invalid && passwordForm.get('nuevaContrasena')?.touched"
            placeholder="Ingresa tu nueva contraseña"
          />
          <button 
            type="button" 
            class="toggle-password"
            (click)="togglePasswordVisibility('new')"
          >
            <mat-icon>{{ showNewPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </div>
        <div class="error-message" *ngIf="getFieldError('nuevaContrasena')">
          {{ getFieldError('nuevaContrasena') }}
        </div>
      </div>

      <!-- Confirmar Contraseña -->
      <div class="form-group">
        <label for="confirmarContrasena">Confirmar Nueva Contraseña</label>
        <div class="input-container">
          <input 
            id="confirmarContrasena" 
            [type]="showConfirmPassword ? 'text' : 'password'" 
            formControlName="confirmarContrasena"
            [class.error]="passwordForm.get('confirmarContrasena')?.invalid && passwordForm.get('confirmarContrasena')?.touched"
            placeholder="Confirma tu nueva contraseña"
          />
          <button 
            type="button" 
            class="toggle-password"
            (click)="togglePasswordVisibility('confirm')"
          >
            <mat-icon>{{ showConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </div>
        <div class="error-message" *ngIf="getFieldError('confirmarContrasena')">
          {{ getFieldError('confirmarContrasena') }}
        </div>
      </div>

      <div class="form-actions">
        <button 
          type="submit" 
          class="submit-btn"
          [disabled]="passwordForm.invalid"
        >
          Cambiar Contraseña
        </button>
      </div>
    </form>
  </div>
</div>